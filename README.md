# KeyRC Backend

Welcome to the backend repository of the KeyRC project!

KeyRC is a connected lock system designed to allow users to unlock a door by scanning a QR code generated by a mobile application. The system comprises three main components: a mobile application developed using React Native, a cloud-based backend developed with Node.js and Express.js, and a connected lock controlled by an ESP32 module.

## Overview

This repository contains the backend code responsible for managing the API endpoints, handling database operations, and facilitating communication between the mobile application and the cloud services.

## Project Structure

The project structure is organized as follows:

- **models.js**: Defines the data models for the MongoDB collections, including Administrators, Locks, and Tokens.
- **DB.js**: Manages the connection to the MongoDB database and provides functions for CRUD operations.
- **app.js**: The main file that configures the Express.js server, defines API routes, and handles HTTP requests. Contains auxiliary functions used in the application, such as generating tokens and formatting responses.

## Getting Started

To run the backend server locally, follow these steps:

1. Clone this repository to your local machine.
2. Install the required dependencies by running `npm install`.
3. Start the server by running `npm start`.

Make sure you have MongoDB installed and running locally on your machine or update the connection URL in `DB.js` to point to your MongoDB instance.

## API Endpoints

The backend API provides the following endpoints:

- `POST /api/KeyRC/admin`: Add a new administrator to the database.
- `POST /api/KeyRC/lock/:id`: Add a new lock to the database.
- `POST /api/KeyRC/token/:id`: Add a new token to the database.
- `GET /api/KeyRC/all-stuff`: Retrieve all data from the database.
- `GET /api/KeyRC/stuff/:id`: Retrieve data for a specific administrator.
- `PUT /api/KeyRC/admin/:id`: Update administrator information.
- `PUT /api/KeyRC/token/:id`: Update token information.
- `PUT /api/KeyRC/lock/:id`: Update lock information.
- `DELETE /api/KeyRC/admin/:id`: Delete an administrator from the database.
- `DELETE /api/KeyRC/token/:id`: Delete a token from the database.
- `DELETE /api/KeyRC/lock/:id`: Delete a lock from the database.

## Testing

Unit tests for each API route can be performed using Insomnia REST to ensure the correct functionality of the backend services.

## Contributors

- Odilon KIEMBA: Backend development.

## License

This project is licensed under the MIT License - see the LICENSE file for details.
